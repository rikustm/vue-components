(function(l,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e(require("xlsx"),require("vue")):typeof define=="function"&&define.amd?define(["xlsx","vue"],e):(l=typeof globalThis!="undefined"?globalThis:l||self,l["rikus-vue-components"]=e(l.XLSX,l.Vue))})(this,function(l,e){"use strict";function f(o){if(o&&o.__esModule)return o;var r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return o&&Object.keys(o).forEach(function(t){if(t!=="default"){var s=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(r,t,s.get?s:{enumerable:!0,get:function(){return o[t]}})}}),r.default=o,Object.freeze(r)}var d=f(l),m=(o,r)=>{const t=o.__vccOpts||o;for(const[s,n]of r)t[s]=n;return t};const p={props:{row:Object,fields:Object,format:Object}},_={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"};function x(o,r,t,s,n,a){return e.openBlock(),e.createElementBlock("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(t.fields),i=>(e.openBlock(),e.createElementBlock("td",_,[e.createElementVNode("div",{class:e.normalizeClass(["text-left",{"font-medium":t.fields[i].bold,"text-center":t.fields[i].centered}])},e.toDisplayString(t.row[i]),3)]))),256))])}var h=m(p,[["render",x]]);const k={props:{format:{type:Object,default:{}},rows:{type:Array,default:[]},hidecolumns:Array},components:{TableItem:h},data(){return{expanded:!1}},computed:{fields(){if(this.rows.length==0)return[];const o=this.rows[0];return Object.keys(o).filter(s=>!(this.hidecolumns||[]).includes(s)).reduce((s,n)=>(s[n]={...this.format[n]},s),{})}},methods:{exportData(){const o=d.utils.json_to_sheet(this.rows),r=d.utils.book_new();d.utils.book_append_sheet(r,o,"Export"),d.writeFile(r,"Export.xlsx")}}},b={class:"bg-white shadow-lg rounded-sm border border-slate-200 relative"},w={class:"overflow-x-auto"},u={class:"flex items-center"},y={class:"flex shrink-0 mr-2"},E=[e.createElementVNode("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"},null,-1)],B={class:"font-semibold text-slate-800"},N=e.createTextVNode(" All Rows "),V={class:"text-slate-400 font-medium"},g={key:0,class:"table-auto w-full"},j={class:"text-xs font-semibold uppercase text-slate-500 bg-slate-50 border-t border-b border-slate-200"},O={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"},C={class:"text-sm divide-y divide-slate-200"};function T(o,r,t,s,n,a){const i=e.resolveComponent("TableItem");return e.openBlock(),e.createElementBlock("div",b,[e.createElementVNode("div",w,[e.createElementVNode("header",{class:"flex items-center justify-between px-5 py-4 cursor-pointer",onClick:r[1]||(r[1]=c=>n.expanded=!n.expanded)},[e.createElementVNode("div",u,[e.createElementVNode("div",y,[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(["w-3 h-3 shrink-0 ml-1 fill-current text-slate-400",n.expanded&&"transform rotate-180"]),viewBox:"0 0 12 12"},E,2))]),e.createElementVNode("h2",B,[N,e.createElementVNode("span",V,e.toDisplayString(t.rows.length),1)])]),e.createElementVNode("div",null,[t.rows.length>0?(e.openBlock(),e.createElementBlock("div",{key:0,class:"text-sm text-slate-300 hover:underline hover:text-slate-500",onClick:r[0]||(r[0]=e.withModifiers((...c)=>a.exportData&&a.exportData(...c),["stop"]))}," xls ")):e.createCommentVNode("",!0)])]),e.createElementVNode("div",null,[n.expanded?(e.openBlock(),e.createElementBlock("table",g,[e.createElementVNode("thead",j,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(a.fields),c=>(e.openBlock(),e.createElementBlock("th",O,[e.createElementVNode("div",{class:e.normalizeClass(["font-semibold text-left",{"text-center":a.fields[c].centered}])},e.toDisplayString(c),3)]))),256))])]),e.createElementVNode("tbody",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rows,c=>(e.openBlock(),e.createBlock(i,{row:c,fields:a.fields,format:t.format},null,8,["row","fields","format"]))),256))])])):e.createCommentVNode("",!0)])])])}var D=m(k,[["render",T]]),L={Table:D};return L});
