(function(l,i){typeof exports=="object"&&typeof module!="undefined"?i(exports,require("xlsx"),require("vue")):typeof define=="function"&&define.amd?define(["exports","xlsx","vue"],i):(l=typeof globalThis!="undefined"?globalThis:l||self,i(l["rikus-vue-components"]={},l.XLSX,l.Vue))})(this,function(l,i,e){"use strict";function p(o){if(o&&o.__esModule)return o;var r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return o&&Object.keys(o).forEach(function(t){if(t!=="default"){var s=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(r,t,s.get?s:{enumerable:!0,get:function(){return o[t]}})}}),r.default=o,Object.freeze(r)}var m=p(i),f=(o,r)=>{const t=o.__vccOpts||o;for(const[s,n]of r)t[s]=n;return t};const _={props:{row:Object,fields:Object,format:Object}},x={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"};function h(o,r,t,s,n,a){return e.openBlock(),e.createElementBlock("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(t.fields),d=>(e.openBlock(),e.createElementBlock("td",x,[e.createElementVNode("div",{class:e.normalizeClass(["text-left",{"font-medium":t.fields[d].bold,"text-center":t.fields[d].centered}])},e.toDisplayString(t.row[d]),3)]))),256))])}var b=f(_,[["render",h]]);const k={props:{format:{type:Object,default:{}},rows:{type:Array,default:[]},hidecolumns:Array},components:{TableItem:b},data(){return{expanded:!1}},computed:{fields(){if(this.rows.length==0)return[];const o=this.rows[0];return Object.keys(o).filter(s=>!(this.hidecolumns||[]).includes(s)).reduce((s,n)=>(s[n]={...this.format[n]},s),{})}},methods:{exportData(){const o=m.utils.json_to_sheet(this.rows),r=m.utils.book_new();m.utils.book_append_sheet(r,o,"Export"),m.writeFile(r,"Export.xlsx")}}},w={class:"bg-white shadow-lg rounded-sm border border-slate-200 relative"},u={class:"overflow-x-auto"},y={class:"flex items-center"},E={class:"flex shrink-0 mr-2"},B=[e.createElementVNode("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"},null,-1)],g={class:"font-semibold text-slate-800"},N=e.createTextVNode(" All Rows "),V={class:"text-slate-400 font-medium"},j={key:0,class:"table-auto w-full"},O={class:"text-xs font-semibold uppercase text-slate-500 bg-slate-50 border-t border-b border-slate-200"},T={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"},S={class:"text-sm divide-y divide-slate-200"};function C(o,r,t,s,n,a){const d=e.resolveComponent("TableItem");return e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("div",u,[e.createElementVNode("header",{class:"flex items-center justify-between px-5 py-4 cursor-pointer",onClick:r[1]||(r[1]=c=>n.expanded=!n.expanded)},[e.createElementVNode("div",y,[e.createElementVNode("div",E,[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(["w-3 h-3 shrink-0 ml-1 fill-current text-slate-400",n.expanded&&"transform rotate-180"]),viewBox:"0 0 12 12"},B,2))]),e.createElementVNode("h2",g,[N,e.createElementVNode("span",V,e.toDisplayString(t.rows.length),1)])]),e.createElementVNode("div",null,[t.rows.length>0?(e.openBlock(),e.createElementBlock("div",{key:0,class:"text-sm text-slate-300 hover:underline hover:text-slate-500",onClick:r[0]||(r[0]=e.withModifiers((...c)=>a.exportData&&a.exportData(...c),["stop"]))}," xls ")):e.createCommentVNode("",!0)])]),e.createElementVNode("div",null,[n.expanded?(e.openBlock(),e.createElementBlock("table",j,[e.createElementVNode("thead",O,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(a.fields),c=>(e.openBlock(),e.createElementBlock("th",T,[e.createElementVNode("div",{class:e.normalizeClass(["font-semibold text-left",{"text-center":a.fields[c].centered}])},e.toDisplayString(c),3)]))),256))])]),e.createElementVNode("tbody",S,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rows,c=>(e.openBlock(),e.createBlock(d,{row:c,fields:a.fields,format:t.format},null,8,["row","fields","format"]))),256))])])):e.createCommentVNode("",!0)])])])}var D=f(k,[["render",C]]);l.Table=D,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
